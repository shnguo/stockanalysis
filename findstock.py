674         10.0        5.0   11.876   11.810   11.974   11.955   11.9210
760         10.0        5.0    7.088    6.998    7.158    7.149    7.0425
913         10.0        5.0   13.094   13.056   13.007   12.940   12.8065
1031        10.0        5.0   24.172   23.854   24.366   24.357   24.1495
1065        10.0        5.0    9.992    9.928   10.013    9.998   10.0070
1205        10.0        5.0    2.304    2.294    2.336    2.338    2.3050
1460        10.0        5.0   16.798   16.642   16.571   16.525   16.6105
1823        10.0        5.0    4.206    4.204    4.241    4.237    4.1840
2382        10.0        5.0    2.756    2.750    2.777    2.779    2.7575
2410        10.0        5.0    2.918    2.916    2.921    2.918    2.9010
1177         0.0        5.0    7.616    7.596    7.805    7.798    7.5970
1547         0.0        5.0   25.590   25.052   24.773   24.565   25.0235
2306         0.0        5.0    4.886    4.890    4.959    4.952    4.8585
2651         0.0        5.0    4.524    4.524    4.599    4.597    4.5360
12           0.0        0.0   59.272   58.090   59.042   58.540   59.6910
51          10.0        5.0   11.722   11.526   11.544   11.348   11.1650
56          10.0        5.0   73.518   72.682   73.013   71.629   67.2045
63          10.0        5.0    3.168    3.088    3.074    3.006    2.8745
82          10.0        5.0    3.452    3.376    3.466    3.413    3.2435
99          10.0        5.0   72.802   72.148   71.407   70.811   71.1450
109         10.0        5.0    2.818    2.758    2.820    2.792    2.7485
111         10.0        5.0    4.720    4.688    4.760    4.659    4.3745

        MA20_1        MA30      MA30_1        MA60      MA60_1
424    17.6875   17.643667   17.621333   17.957500   17.951833
601     2.7520    2.744333    2.743333    2.806500    2.809000
105    19.6210   20.015333   20.024000   19.967667   19.968167
1456    2.0005    1.983333    1.982333    1.951333    1.950167
340    31.6000   32.438000   32.437000   31.835333   31.799167
178     9.1905    9.444333    9.431667    9.509167    9.487167
83      8.6410    8.651667    8.625000    8.764000    8.751000
896     9.9715    9.881667    9.873333    9.935833    9.941333
1185    6.8110    6.789333    6.784000    6.867833    6.871333
1493   18.0790   18.046667   18.039000   18.175167   18.182500
1979    3.2790    3.262333    3.260333    3.281000    3.283833
342    10.7495   10.818333   10.815000   10.954000   10.953167
1490    2.9700    2.943000    2.938000    3.035667    3.042833
1615    7.8785    7.878333    7.876000    7.985500    7.986833
1780    6.5645    6.549000    6.546000    6.703167    6.704333
2425    2.9710    2.966333    2.965667    2.998667    3.002667
2641    4.3030    4.294000    4.293667    4.416000    4.423167
750     5.3990    5.424000    5.418667    5.605000    5.603500
22      3.1230    3.266667    3.275000    3.025333    3.013167
35      6.4350    6.545667    6.510667    6.203667    6.191667
70     12.4665   12.566333   12.537667   11.776167   11.736667
76     17.3175   18.003333   17.979667   15.549333   15.456167
128    49.9335   49.816333   49.617333   45.051000   44.695500
130    36.7390   36.120333   35.993667   34.795333   34.663500
233     8.2335    8.243667    8.222667    7.881000    7.884000
241     3.1315    3.110000    3.102667    2.958000    2.953667
275     3.3255    3.278667    3.268333    3.116167    3.110500
348    13.8300   13.677667   13.663000   13.070167   13.046167
365    16.4755   16.563000   16.564333   15.512500   15.458333
378     4.2020    4.152667    4.139667    4.028833    4.023667
426     4.1535    4.147000    4.142333    3.925833    3.916833
622     7.2135    7.175667    7.168000    7.102167    7.101167
732    14.1925   13.852000   13.794333   12.593500   12.537500
850     9.4345    9.321667    9.295667    8.982000    8.977833
868    14.2930   14.141667   14.138667   14.059667   14.014000
1390   59.4970   59.609667   59.526333   54.604167   54.301333
1564    9.6745    9.658000    9.644333    9.150333    9.136500
1716    6.2530    6.274667    6.268333    6.136667    6.136167
1950   12.3315   12.167667   12.126333   11.808500   11.788833
2098    9.2440    9.239000    9.229333    9.081167    9.084333
581   151.2460  150.607667  150.410333  147.781000  147.741833
914     3.4440    3.393333    3.388333    3.264167    3.259000
91     29.7620   29.946667   29.833333   28.846500   28.759000
145    20.1405   20.359333   20.338000   19.946500   19.904333
307    94.0925   94.084333   93.676667   87.241667   86.999833
401    17.4610   17.529667   17.516667   17.004333   16.976500
1234    3.9965    3.999667    3.993000    3.713500    3.704000
72     22.5390   22.656667   22.582333   21.990500   21.955000
417    55.1925   55.937333   55.901333   53.481000   53.478333
465    18.8290   18.796667   18.762333   18.329000   18.273667
1541   11.6615   11.729667   11.727000   11.567000   11.566500
80     13.3120   13.358333   13.318667   12.307000   12.254833
790     6.4635    6.283000    6.255667    5.680833    5.664000
1549    9.8645    9.737333    9.730000    9.366167    9.358167
364    13.7755   14.031000   14.018000   13.786333   13.771333
367    48.8640   49.545000   49.443667   47.184000   46.978667
429    16.0975   16.374333   16.371667   16.136000   16.088667
2031   28.6375   28.772333   28.734000   28.673000   28.655833
93      9.4815    9.940000    9.900333    8.538333    8.467000
257    34.1810   34.677667   34.683333   34.141333   34.042500
331    14.7170   15.100667   15.105000   14.275500   14.219500
354    17.6515   18.113333   18.008667   17.130500   17.133167
678    28.4300   28.940000   28.929667   27.273667   27.176000
1006   23.7980   24.182333   24.083333   21.710000   21.578667
2010    8.3825    8.406667    8.404667    8.308667    8.309500
8       4.8015    4.765000    4.728667    4.538667    4.525667
14     55.3850   54.968667   54.695333   51.232500   50.884167
66      2.4475    2.445667    2.435000    2.385333    2.384333
69      7.3460    7.036667    6.941000    5.996333    5.945000
123     5.5720    5.350667    5.286333    4.682000    4.653333
248     3.9680    3.871000    3.856333    3.756167    3.748667
344    16.5340   15.798000   15.700000   14.935667   14.911500
357    22.0955   21.457333   21.342667   21.060667   21.037667
492     4.5870    4.501333    4.487667    4.237667    4.235667
512     3.0480    3.010333    3.000000    2.944000    2.941833
529     9.5070    9.275333    9.238333    9.060667    9.038000
546    13.0480   12.674333   12.626667   12.286167   12.280667
580     3.3805    3.330667    3.319000    3.176000    3.171833
674    11.9175   11.782000   11.759333   11.427667   11.420833
760     7.0380    6.913000    6.870667    6.249667    6.220167
913    12.7670   12.475667   12.420000   11.769333   11.765167
1031   24.1270   23.480333   23.372000   22.290500   22.238667
1065   10.0090    9.972667    9.952000    9.622833    9.607833
1205    2.2965    2.276667    2.276333    2.222333    2.220333
1460   16.5620   16.361667   16.324333   15.847833   15.825667
1823    4.1755    4.131667    4.125333    4.094500    4.094333
2382    2.7560    2.722333    2.718000    2.707167    2.711500
2410    2.8990    2.871000    2.867000    2.877167    2.881833
1177    7.5790    7.476333    7.459333    7.258333    7.253167
1547   25.0095   24.731333   24.578667   22.293167   22.203667
2306    4.8480    4.836333    4.819667    4.630167    4.625333
2651    4.5390    4.570333    4.575000    4.454333    4.447167
12     59.2770   59.374333   59.041667   55.283167   55.121000
51     11.0625   10.727667   10.598000    9.629667    9.565833
56     66.2080   62.421333   61.568667   54.978000   54.350000
63      2.8355    2.818000    2.792667    2.761500    2.750167
82      3.2055    3.154000    3.129000    3.192000    3.189167
99     70.6460   70.558333   70.173000   65.153000   64.862333
109     2.7305    2.715667    2.700000    2.628500    2.622167
111     4.3060    4.212333    4.173000    4.000167    3.975333
(base) gs@gs-Z170X-UD3:~/stockanalysis$ python findstock.py
today:
            名称  涨跌幅  最新价   主力  MA60_score  MA30_score  MA20_score  \
473     均瑶健康    3.12   18.16   6.23        60.0        30.0        20.0
617       ST贵人    2.58    2.78  11.97        60.0        30.0        20.0
88      中信特钢    7.82   20.95   1.80        60.0        30.0        20.0
1445      ST海投    1.02    1.98  31.13        60.0        30.0         0.0
356     博创科技    3.79   33.16  11.63        60.0        30.0         0.0
138     信隆健康    6.14   10.02   5.79        60.0        30.0         0.0
82      仁和药业    8.26    9.44   5.16        60.0         0.0        20.0
885     豫园股份    1.82   10.09  15.76        60.0         0.0        20.0
1203    深粮控股    1.31    6.94   4.62        60.0         0.0        20.0
1954    山鹰国际    0.61    3.30   3.97        60.0         0.0        20.0
345     益生股份    3.86   11.30   8.65        60.0         0.0         0.0
1418      新五丰    1.04    6.79   5.85        60.0         0.0         0.0
1471    中油工程    0.99    3.06  11.06        60.0         0.0         0.0
1611    上海梅林    0.88    8.04   5.21        60.0         0.0         0.0
2390    东方集团    0.33    3.00   2.62        60.0         0.0         0.0
2599    皇氏集团    0.23    4.40   2.21        60.0         0.0         0.0
694     嘉美包装    2.33    5.71   5.57        60.0         0.0         0.0
35      上工申贝   10.03    6.91  40.74         0.0        30.0        20.0
68      中银绒业    9.48    3.35  31.02         0.0        30.0        20.0
71      勘设股份    9.28   13.54  22.14         0.0        30.0        20.0
121     联赢激光    6.75   50.93   7.24         0.0        30.0        20.0
126       一心堂    6.45   38.27   0.10         0.0        30.0        20.0
271     厦工股份    4.55    3.22  14.55         0.0        30.0        20.0
272     华控赛格    4.55    3.45   2.93         0.0        30.0        20.0
284     中环环保    4.42    8.51   3.46         0.0        30.0        20.0
379     精工钢构    3.62    4.29  20.70         0.0        30.0        20.0
395     东风科技    3.53   13.77   4.33         0.0        30.0        20.0
490     伟时电子    3.06   17.15   1.71         0.0        30.0        20.0
532     惠程科技    2.86    4.31   8.55         0.0        30.0        20.0
599     第一创业    2.66    7.34   7.45         0.0        30.0        20.0
845     中南传媒    1.92    9.55  12.23         0.0        30.0        20.0
854       硕贝德    1.90   14.45  12.75         0.0        30.0        20.0
1003    山东赫达    1.63   61.08   0.72         0.0        30.0        20.0
1102    赛轮轮胎    1.47   14.48   7.59         0.0        30.0        20.0
1436      探路者    1.03    9.84   6.76         0.0        30.0        20.0
1702    正元地信    0.80    6.31   0.45         0.0        30.0        20.0
1810    浦东金桥    0.71   12.77   4.56         0.0        30.0        20.0
1895      安奈儿    0.65    9.27   2.67         0.0        30.0        20.0
2287    西藏旅游    0.39   10.20   2.22         0.0        30.0        20.0
590     财富趋势    2.68  151.69   4.99         0.0        30.0        20.0
914       ST花王    1.78    3.44  12.79         0.0        30.0        20.0
91        京北方    7.77   31.89  17.47         0.0        30.0        20.0
92      华海药业    7.73   21.75  12.89         0.0        30.0        20.0
241     寒武纪-U    4.88   96.49   9.93         0.0        30.0        20.0
452     宇环数控    3.20   18.05   1.07         0.0        30.0        20.0
1240    智慧农业    1.25    4.04   5.00         0.0        30.0        20.0
1921      搜于特    0.63    1.60   6.98         0.0        30.0        20.0
74      光启技术    8.77   24.18   5.36         0.0        30.0        20.0
431     翔宇医疗    3.33   56.85   7.49         0.0        30.0        20.0
1521      飞亚达    0.94   11.77   4.95         0.0        30.0        20.0
81        普利特    8.27   14.40   0.52         0.0        30.0         0.0
652      *ST东电    2.44    2.10   8.95         0.0        30.0         0.0
674     卧龙地产    2.39    6.43   3.23         0.0        30.0         0.0
1927    顶固集创    0.63    9.66  10.73         0.0        30.0         0.0
312     海利生物    4.10   14.48  13.88         0.0        30.0         0.0
454     金禾实业    3.20   50.98   0.61         0.0        30.0         0.0
710     浙江仙通    2.30   16.93  19.65         0.0        30.0         0.0
2094    华绿生物    0.51   29.36   6.20         0.0        30.0         0.0
96      萃华珠宝    7.58   10.50  12.13         0.0        30.0         0.0
244     中航高科    4.84   36.60   3.91         0.0        30.0         0.0
274   前沿生物-U    4.51   18.99   5.26         0.0        30.0         0.0
653     山石网科    2.44   29.83   5.80         0.0        30.0         0.0
991     科达制造    1.65   24.70   9.38         0.0        30.0         0.0
1977    杭华股份    0.59    8.48  12.51         0.0        30.0         0.0
9       蒙草生态   14.08    5.51   5.33         0.0         0.0        20.0
11      科思股份   13.22   62.00   7.20         0.0         0.0        20.0
65      中信国安    9.84    2.68  35.36         0.0         0.0        20.0
66      银邦股份    9.65    8.07   8.76         0.0         0.0        20.0
108     新 华 都    7.05    5.92   7.63         0.0         0.0        20.0
267     杭萧钢构    4.57    4.12   6.62         0.0         0.0        20.0
330     中国神华    3.97   22.81   6.52         0.0         0.0        20.0
357     中国重汽    3.78   16.74  14.01         0.0         0.0        20.0
435     沙河股份    3.30    7.82  31.39         0.0         0.0        20.0
483     中铁装配    3.10   13.29   1.19         0.0         0.0        20.0
531     惠泉啤酒    2.87   10.04  13.86         0.0         0.0        20.0
609     平潭发展    2.61    3.14   4.00         0.0         0.0        20.0
684       ST辅仁    2.36    3.47   8.66         0.0         0.0        20.0
716     新疆交建    2.27   12.14   4.92         0.0         0.0        20.0
955     海联金汇    1.70    7.17   2.71         0.0         0.0        20.0
1012    招商蛇口    1.62   13.16   2.28         0.0         0.0        20.0
1081    盛航股份    1.51   24.87   1.88         0.0         0.0        20.0
1151    中远海科    1.40   10.16  10.56         0.0         0.0        20.0
1384      皮阿诺    1.08   16.90  14.38         0.0         0.0        20.0
1632    二三四五    0.86    2.34   0.90         0.0         0.0        20.0
1794    秦港股份    0.72    2.78   1.51         0.0         0.0        20.0
1804    交运股份    0.72    4.22   8.43         0.0         0.0        20.0
10    君实生物-U   13.68   65.47   7.57         0.0         0.0        20.0
1633    春光科技    0.86   25.77   6.86         0.0         0.0        20.0
53      千金药业    9.99   12.55  13.43         0.0         0.0         0.0
58      健民集团    9.98   78.88   3.25         0.0         0.0         0.0
64      紫鑫药业    9.94    3.43  22.89         0.0         0.0         0.0
75        惠博普    8.67    3.76  12.78         0.0         0.0         0.0
90        嘉麟杰    7.77    3.05  15.74         0.0         0.0         0.0
97      当虹科技    7.39   76.77   4.74         0.0         0.0         0.0
101     特一药业    7.28   17.39   5.55         0.0         0.0         0.0
128     旷达科技    6.39    6.49   3.25         0.0         0.0         0.0
144       獐子岛    6.03    3.34  19.59         0.0         0.0         0.0
147     华媒控股    6.00    5.12   3.40         0.0         0.0         0.0
148     湘佳股份    5.98   48.36   6.07         0.0         0.0         0.0
154     云南白药    5.88  102.70   7.39         0.0         0.0         0.0

      MA10_score  MA5_score      MA5    MA5_1     MA10   MA10_1      MA20  \
473         10.0        5.0   18.036   17.918   17.734   17.664   17.7195
617         10.0        5.0    2.724    2.708    2.730    2.728    2.7540
88           0.0        5.0   19.370   18.958   19.266   19.148   19.6435
1445        10.0        5.0    1.962    1.962    1.964    1.960    1.9980
356          0.0        5.0   31.696   31.126   31.348   31.187   31.6015
138          0.0        0.0    9.410    9.218    9.286    9.206    9.2055
82          10.0        5.0    9.016    9.004    9.068    8.946    8.6945
885         10.0        5.0    9.992    9.992   10.001    9.998    9.9925
1203        10.0        5.0    6.906    6.888    6.896    6.883    6.8225
1954        10.0        5.0    3.290    3.286    3.295    3.296    3.2795
345         10.0        5.0   11.024   10.944   10.877   10.798   10.7740
1418        10.0        5.0    6.742    6.726    6.671    6.638    6.5760
1471        10.0        5.0    3.046    3.046    3.046    3.038    2.9785
1611        10.0        5.0    8.008    8.000    7.953    7.931    7.8885
2390        10.0        5.0    2.998    2.998    3.004    2.998    2.9720
2599        10.0        5.0    4.368    4.354    4.351    4.341    4.3130
694          0.0        0.0    5.544    5.472    5.461    5.427    5.4135
35          10.0        5.0    6.416    6.282    6.450    6.406    6.4540
68          10.0        5.0    3.126    3.072    3.119    3.108    3.1275
71          10.0        5.0   12.606   12.340   12.719   12.631   12.5185
121         10.0        5.0   48.914   48.818   50.335   50.297   49.9825
126         10.0        5.0   36.958   36.434   36.514   36.373   36.9745
271         10.0        5.0    3.096    3.060    3.112    3.107    3.1410
272         10.0        5.0    3.384    3.340    3.372    3.349    3.3305
284         10.0        5.0    8.314    8.214    8.317    8.309    8.2380
379         10.0        5.0    4.170    4.144    4.216    4.218    4.2070
395         10.0        5.0   13.372   13.310   13.567   13.544   13.8375
490         10.0        5.0   16.892   16.884   16.792   16.712   16.5420
532         10.0        5.0    4.054    3.988    4.087    4.090    4.1595
599         10.0        5.0    7.202    7.178    7.240    7.243    7.2240
845         10.0        5.0    9.276    9.246    9.310    9.289    9.4460
854         10.0        5.0   14.136   14.028   14.183   14.129   14.2425
1003        10.0        5.0   59.722   58.946   59.304   59.250   59.5750
1102        10.0        5.0   14.342   14.324   14.478   14.447   14.3465
1436        10.0        5.0    9.754    9.620    9.625    9.608    9.6695
1702        10.0        5.0    6.250    6.230    6.282    6.272    6.2475
1810        10.0        5.0   12.718   12.706   12.656   12.607   12.3720
1895        10.0        5.0    9.186    9.140    9.227    9.231    9.2440
2287        10.0        5.0   10.144   10.104   10.143   10.120   10.2075
590         10.0        0.0  148.166  147.228  148.706  148.627  151.2655
914         10.0        0.0    3.354    3.326    3.387    3.393    3.4460
91           0.0        5.0   29.756   29.096   29.579   29.431   29.8585
92           0.0        5.0   20.456   20.144   20.066   19.845   20.1770
241          0.0        5.0   92.356   91.304   91.312   91.056   94.2070
452          0.0        5.0   17.486   17.184   17.301   17.293   17.4630
1240         0.0        5.0    3.992    3.950    3.934    3.924    3.9995
1921         0.0        5.0    1.590    1.588    1.634    1.629    1.5925
74           0.0        0.0   22.272   21.682   21.845   21.692   22.5500
431          0.0        0.0   54.482   53.340   53.871   53.696   55.2435
1521         0.0        0.0   11.588   11.526   11.593   11.581   11.6635
81          10.0        5.0   13.498   13.232   13.362   13.237   13.3280
652         10.0        5.0    2.048    2.034    2.085    2.085    2.1190
674         10.0        5.0    6.334    6.298    6.401    6.405    6.4615
1927        10.0        5.0    9.596    9.528    9.622    9.615    9.8810
312          0.0        5.0   14.086   14.004   13.895   13.794   13.7865
454          0.0        5.0   49.454   48.838   48.548   48.126   48.8765
710          0.0        5.0   16.670   16.390   16.166   16.071   16.1245
2094         0.0        5.0   29.488   29.492   30.115   30.101   28.7385
96           0.0        0.0    9.758    9.496    9.746    9.528    9.5015
244          0.0        0.0   34.002   33.280   33.625   33.485   34.2525
274          0.0        0.0   17.824   17.438   17.693   17.568   17.6670
653          0.0        0.0   28.440   27.990   28.334   28.199   28.4450
991          0.0        0.0   23.820   23.168   23.256   23.124   23.8090
1977         0.0        0.0    8.342    8.288    8.353    8.348    8.3820
9           10.0        5.0    5.008    4.964    5.070    5.004    4.8415
11          10.0        5.0   56.530   55.112   56.114   55.467   55.9365
65          10.0        5.0    2.470    2.420    2.489    2.471    2.4610
66          10.0        5.0    7.426    7.270    7.452    7.396    7.4055
108         10.0        5.0    5.556    5.480    5.537    5.503    5.5975
267         10.0        5.0    3.950    3.904    3.983    3.978    3.9890
330         10.0        5.0   22.422   22.352   22.331   22.253   22.1060
357         10.0        5.0   16.494   16.446   16.601   16.601   16.5905
435         10.0        5.0    7.636    7.596    7.815    7.798    7.6020
483         10.0        5.0   12.868   12.738   12.976   12.955   13.0725
531         10.0        5.0    9.704    9.614    9.800    9.779    9.5780
609         10.0        5.0    3.080    3.058    3.099    3.094    3.0560
684         10.0        5.0    3.414    3.390    3.395    3.384    3.3910
716         10.0        5.0   11.872   11.810   11.972   11.955   11.9200
955         10.0        5.0    7.082    6.998    7.155    7.149    7.0410
1012        10.0        5.0   13.090   13.056   13.005   12.940   12.8055
1081        10.0        5.0   24.162   23.854   24.361   24.357   24.1470
1151        10.0        5.0    9.992    9.928   10.013    9.998   10.0070
1384        10.0        5.0   16.792   16.642   16.568   16.525   16.6090
1632        10.0        5.0    2.302    2.294    2.335    2.338    2.3045
1794        10.0        5.0    2.756    2.750    2.777    2.779    2.7575
1804        10.0        5.0    4.206    4.204    4.241    4.237    4.1840
10           0.0        5.0   59.424   58.090   59.118   58.540   59.7290
1633         0.0        5.0   25.588   25.052   24.772   24.565   25.0230
53          10.0        5.0   11.722   11.526   11.544   11.348   11.1650
58          10.0        5.0   73.520   72.682   73.014   71.629   67.2050
64          10.0        5.0    3.168    3.088    3.074    3.006    2.8745
75          10.0        5.0    3.452    3.376    3.466    3.413    3.2435
90          10.0        5.0    2.816    2.758    2.819    2.792    2.7480
97          10.0        5.0   72.806   72.148   71.409   70.811   71.1460
101         10.0        5.0   16.670   16.408   16.288   16.009   15.2390
128         10.0        5.0    6.174    6.084    6.155    6.106    6.0065
144         10.0        5.0    3.178    3.122    3.144    3.109    3.0435
147         10.0        5.0    4.718    4.688    4.759    4.659    4.3740
148         10.0        5.0   46.448   45.902   45.361   44.913   45.1305
154         10.0        5.0   98.868   98.210   97.767   96.551   94.7390

        MA20_1        MA30      MA30_1        MA60      MA60_1
473    17.6875   17.642000   17.621333   17.956667   17.951833
617     2.7520    2.744333    2.743333    2.806500    2.809000
88     19.6210   20.019333   20.024000   19.969667   19.968167
1445    2.0005    1.983000    1.982333    1.951167    1.950167
356    31.6000   32.436333   32.437000   31.834500   31.799167
138     9.1905    9.446333    9.431667    9.510167    9.487167
82      8.6410    8.652667    8.625000    8.764500    8.751000
885     9.9715    9.880667    9.873333    9.935333    9.941333
1203    6.8110    6.789000    6.784000    6.867667    6.871333
1954    3.2790    3.262333    3.260333    3.281000    3.283833
345    10.7495   10.818667   10.815000   10.954167   10.953167
1418    6.5645    6.549333    6.546000    6.703333    6.704333
1471    2.9700    2.943000    2.938000    3.035667    3.042833
1611    7.8785    7.878000    7.876000    7.985333    7.986833
2390    2.9710    2.966333    2.965667    2.998667    3.002667
2599    4.3030    4.294000    4.293667    4.416000    4.423167
694     5.3990    5.424000    5.418667    5.605000    5.603500
35      6.4350    6.545667    6.510667    6.203667    6.191667
68      3.1230    3.267000    3.275000    3.025500    3.013167
71     12.4665   12.566333   12.537667   11.776167   11.736667
121    49.9335   49.818667   49.617333   45.052167   44.695500
126    36.7390   36.118333   35.993667   34.794333   34.663500
271     3.1315    3.109667    3.102667    2.957833    2.953667
272     3.3255    3.279333    3.268333    3.116500    3.110500
284     8.2335    8.242667    8.222667    7.880500    7.884000
379     4.2020    4.152333    4.139667    4.028667    4.023667
395    13.8300   13.675333   13.663000   13.069000   13.046167
490    16.4755   16.559667   16.564333   15.510833   15.458333
532     4.1535    4.145667    4.142333    3.925167    3.916833
599     7.2135    7.175667    7.168000    7.102167    7.101167
845     9.4345    9.321333    9.295667    8.981833    8.977833
854    14.1925   13.848667   13.794333   12.591833   12.537500
1003   59.4970   59.604667   59.526333   54.601667   54.301333
1102   14.2930   14.140000   14.138667   14.058833   14.014000
1436    9.6745    9.657667    9.644333    9.150167    9.136500
1702    6.2530    6.274667    6.268333    6.136667    6.136167
1810   12.3315   12.168333   12.126333   11.808833   11.788833
1895    9.2440    9.238667    9.229333    9.081000    9.084333
2287   10.2110   10.166667   10.164667    9.975000    9.979333
590   151.2460  150.608667  150.410333  147.781500  147.741833
914     3.4440    3.393000    3.388333    3.264000    3.259000
91     29.7620   29.946333   29.833333   28.846333   28.759000
92     20.1405   20.366000   20.338000   19.949833   19.904333
241    94.0925   94.095667   93.676667   87.247333   86.999833
452    17.4610   17.529000   17.516667   17.004000   16.976500
1240    3.9965    3.999667    3.993000    3.713500    3.704000
1921    1.5910    1.581000    1.578333    1.548000    1.548000
74     22.5390   22.660667   22.582333   21.992500   21.955000
431    55.1925   55.936667   55.901333   53.480667   53.478333
1521   11.6615   11.729333   11.727000   11.566833   11.566500
81     13.3120   13.357333   13.318667   12.306500   12.254833
652     2.1120    2.045667    2.040667    1.931667    1.926833
674     6.4635    6.283667    6.255667    5.681167    5.664000
1927    9.8645    9.736667    9.730000    9.365833    9.358167
312    13.7755   14.032333   14.018000   13.787000   13.771333
454    48.8640   49.539000   49.443667   47.181000   46.978667
710    16.0975   16.370667   16.371667   16.134167   16.088667
2094   28.6375   28.772333   28.734000   28.673000   28.655833
96      9.4815    9.941333    9.900333    8.539000    8.467000
244    34.1810   34.681000   34.683333   34.143000   34.042500
274    17.6515   18.115667   18.008667   17.131667   17.133167
653    28.4300   28.940000   28.929667   27.273667   27.176000
991    23.7980   24.181333   24.083333   21.709500   21.578667
1977    8.3825    8.406667    8.404667    8.308667    8.309500
9       4.8015    4.763333    4.728667    4.537833    4.525667
11     55.3850   54.981333   54.695333   51.238833   50.884167
65      2.4475    2.445667    2.435000    2.385333    2.384333
66      7.3460    7.035000    6.941000    5.995500    5.945000
108     5.5720    5.349000    5.286333    4.681167    4.653333
267     3.9680    3.871000    3.856333    3.756167    3.748667
330    22.0955   21.458333   21.342667   21.061167   21.037667
357    16.5340   15.797000   15.700000   14.935167   14.911500
435     7.5790    7.479667    7.459333    7.260000    7.253167
483    13.0480   12.675667   12.626667   12.286833   12.280667
531     9.5070    9.276667    9.238333    9.061333    9.038000
609     3.0480    3.010667    3.000000    2.944167    2.941833
684     3.3805    3.330667    3.319000    3.176000    3.171833
716    11.9175   11.781333   11.759333   11.427333   11.420833
955     7.0380    6.912000    6.870667    6.249167    6.220167
1012   12.7670   12.475000   12.420000   11.769000   11.765167
1081   24.1270   23.478667   23.372000   22.289667   22.238667
1151   10.0090    9.972667    9.952000    9.622833    9.607833
1384   16.5620   16.360667   16.324333   15.847333   15.825667
1632    2.2965    2.276333    2.276333    2.222167    2.220333
1794    2.7560    2.722333    2.718000    2.707167    2.711500
1804    4.1755    4.131667    4.125333    4.094500    4.094333
10     59.2770   59.399667   59.041667   55.295833   55.121000
1633   25.0095   24.731000   24.578667   22.293000   22.203667
53     11.0625   10.727667   10.598000    9.629667    9.565833
58     66.2080   62.421667   61.568667   54.978167   54.350000
64      2.8355    2.818000    2.792667    2.761500    2.750167
75      3.2055    3.154000    3.129000    3.192000    3.189167
90      2.7305    2.715333    2.700000    2.628333    2.622167
97     70.6460   70.559000   70.173000   65.153333   64.862333
101    15.0765   14.997333   14.890667   14.073833   14.015500
128     5.9980    6.066333    6.044667    5.779333    5.758833
144     3.0230    3.002000    2.989667    2.991500    2.985333
147     4.3060    4.212000    4.173000    4.000000    3.975333
148    44.7155   43.265667   43.031000   42.400333   42.270333
154    94.0415   92.829000   92.399667   92.274833   92.209167
(base) gs@gs-Z170X-UD3:~/stockanalysis$ python findstock.py
today:
            名称  涨跌幅  最新价   主力  MA60_score  MA30_score  MA20_score  \
438     均瑶健康    3.35   18.20   5.99        60.0        30.0        20.0
610       ST贵人    2.58    2.78  11.77        60.0        30.0        20.0
108     安车检测    7.18   20.46   6.25        60.0        30.0        20.0
89      中信特钢    7.82   20.95   2.43        60.0        30.0        20.0
1415      ST海投    1.02    1.98  29.91        60.0        30.0         0.0
80      信隆健康    8.37   10.23   5.74        60.0        30.0         0.0
385     博创科技    3.69   33.13  11.15        60.0        30.0         0.0
74      仁和药业    8.83    9.49   5.44        60.0         0.0        20.0
901     豫园股份    1.82   10.09  15.57        60.0         0.0        20.0
1274    深粮控股    1.17    6.93   5.56        60.0         0.0        20.0
2380    山鹰国际    0.30    3.29   3.82        60.0         0.0        20.0
343     益生股份    3.95   11.31   8.95        60.0         0.0         0.0
408       ST华钰    3.50   13.60   0.78        60.0         0.0         0.0
1439    中油工程    0.99    3.06  11.39        60.0         0.0         0.0
1554      新五丰    0.89    6.78   5.80        60.0         0.0         0.0
1708    上海梅林    0.75    8.03   4.36        60.0         0.0         0.0
1818    东方集团    0.67    3.01   2.12        60.0         0.0         0.0
2463    海南高速    0.25    3.96   1.41        60.0         0.0         0.0
818     嘉美包装    1.97    5.69   5.94        60.0         0.0         0.0
33      上工申贝   10.03    6.91  40.92         0.0        30.0        20.0
67      中银绒业    9.80    3.36  30.51         0.0        30.0        20.0
76      勘设股份    8.64   13.46  21.74         0.0        30.0        20.0
141     联赢激光    6.25   50.69   7.01         0.0        30.0        20.0
145       一心堂    6.15   38.16   0.51         0.0        30.0        20.0
173     海印股份    5.56    3.23   4.51         0.0        30.0        20.0
267     厦工股份    4.55    3.22   9.58         0.0        30.0        20.0
268     华控赛格    4.55    3.45   3.36         0.0        30.0        20.0
306     中环环保    4.17    8.49   3.88         0.0        30.0        20.0
361     伟时电子    3.85   17.28   2.64         0.0        30.0        20.0
389     东风科技    3.68   13.79   3.69         0.0        30.0        20.0
432     精工钢构    3.38    4.28  20.16         0.0        30.0        20.0
575     卧龙地产    2.71    6.45   1.74         0.0        30.0        20.0
632     第一创业    2.52    7.33   6.71         0.0        30.0        20.0
745     惠程科技    2.15    4.28   8.08         0.0        30.0        20.0
899     赛轮轮胎    1.82   14.53   7.33         0.0        30.0        20.0
956     中南传媒    1.71    9.53   8.80         0.0        30.0        20.0
1168      探路者    1.33    9.87   7.08         0.0        30.0        20.0
1432    山东赫达    1.00   60.70   0.70         0.0        30.0        20.0
1524      硕贝德    0.92   14.31  12.49         0.0        30.0        20.0
1857    正元地信    0.64    6.30   0.43         0.0        30.0        20.0
1866    浦东金桥    0.63   12.76   4.50         0.0        30.0        20.0
1924    西藏旅游    0.59   10.22   4.81         0.0        30.0        20.0
1985      安奈儿    0.54    9.26   2.60         0.0        30.0        20.0
924       ST花王    1.78    3.44  12.72         0.0        30.0        20.0
1331    南钢股份    1.10    3.67  10.89         0.0        30.0        20.0
110       京北方    7.13   31.70  16.92         0.0        30.0        20.0
114     华海药业    6.98   21.60  12.61         0.0        30.0        20.0
274     翔宇医疗    4.49   57.49   7.97         0.0        30.0        20.0
335     寒武纪-U    4.00   95.68   9.42         0.0        30.0        20.0
505     宇环数控    2.97   18.01   2.29         0.0        30.0        20.0
1429    智慧农业    1.00    4.03   2.67         0.0        30.0        20.0
1870      搜于特    0.63    1.60   7.13         0.0        30.0        20.0
72      光启技术    9.13   24.26   5.55         0.0        30.0        20.0
1796      飞亚达    0.69   11.74   5.23         0.0        30.0        20.0
78        普利特    8.57   14.44   0.66         0.0        30.0         0.0
272     海天瑞声    4.53   92.38  10.45         0.0        30.0         0.0
1874    顶固集创    0.63    9.66  10.44         0.0        30.0         0.0
319     海利生物    4.10   14.48  13.75         0.0        30.0         0.0
477     浙江仙通    3.08   17.06  18.65         0.0        30.0         0.0
2321    华绿生物    0.34   29.31   6.49         0.0        30.0         0.0
101     萃华珠宝    7.38   10.48  11.02         0.0        30.0         0.0
415   前沿生物-U    3.47   18.80   5.22         0.0        30.0         0.0
653     山石网科    2.44   29.83   5.68         0.0        30.0         0.0
772     科达制造    2.10   24.81   9.81         0.0        30.0         0.0
2289    杭华股份    0.36    8.46  11.43         0.0        30.0         0.0
11      蒙草生态   14.91    5.55   5.40         0.0         0.0        20.0
13      科思股份   13.57   62.19   7.21         0.0         0.0        20.0
63      银邦股份    9.92    8.09   7.94         0.0         0.0        20.0
65      中信国安    9.84    2.68  35.47         0.0         0.0        20.0
112     新 华 都    7.05    5.92   6.66         0.0         0.0        20.0
287     中国神华    4.38   22.90   7.85         0.0         0.0        20.0
339     中国重汽    3.97   16.77  14.10         0.0         0.0        20.0
398     惠泉啤酒    3.59   10.11  14.18         0.0         0.0        20.0
485     沙河股份    3.04    7.80  17.87         0.0         0.0        20.0
508     平潭发展    2.94    3.15   5.18         0.0         0.0        20.0
543     中铁装配    2.79   13.25   1.69         0.0         0.0        20.0
589       ST辅仁    2.65    3.48   7.70         0.0         0.0        20.0
728     新疆交建    2.19   12.13   5.00         0.0         0.0        20.0
923     招商蛇口    1.78   13.18   1.07         0.0         0.0        20.0
973       皮阿诺    1.67   17.00  15.77         0.0         0.0        20.0
1104    交运股份    1.43    4.25  11.93         0.0         0.0        20.0
1196    海联金汇    1.28    7.14   2.73         0.0         0.0        20.0
1531    华建集团    0.91    6.63   1.11         0.0         0.0        20.0
2276    秦港股份    0.36    2.77   2.63         0.0         0.0        20.0
2315    海油发展    0.34    2.92   9.30         0.0         0.0        20.0
2809    海尔智家    0.07   29.70   2.77         0.0         0.0        20.0
298     杭萧钢构    4.31    4.11   6.66         0.0         0.0        20.0
1334    中远海科    1.10   10.13  10.01         0.0         0.0        20.0
1457    春光科技    0.98   25.80   7.43         0.0         0.0        20.0
12    君实生物-U   13.58   65.41   7.68         0.0         0.0        20.0
16      九典制药   11.50   34.70   0.04         0.0         0.0         0.0
48      健民集团   10.00   78.89   3.06         0.0         0.0         0.0
52      千金药业    9.99   12.55  14.05         0.0         0.0         0.0
62      紫鑫药业    9.94    3.43  23.59         0.0         0.0         0.0
68      奥康国际    9.65    9.77  29.13         0.0         0.0         0.0
98      当虹科技    7.44   76.81   4.44         0.0         0.0         0.0
100       嘉麟杰    7.42    3.04  15.63         0.0         0.0         0.0
113     特一药业    7.03   17.35   5.32         0.0         0.0         0.0
122     湘佳股份    6.73   48.70   5.63         0.0         0.0         0.0
133     华媒控股    6.42    5.14   3.19         0.0         0.0         0.0

      MA10_score  MA5_score     MA5   MA5_1    MA10  MA10_1     MA20   MA20_1  \
438         10.0        5.0  18.044  17.918  17.738  17.664  17.7215  17.6875
610         10.0        5.0   2.724   2.708   2.730   2.728   2.7540   2.7520
108         10.0        0.0  18.902  18.450  18.948  18.840  19.1840  19.1600
89           0.0        5.0  19.364  18.958  19.263  19.148  19.6420  19.6210
1415        10.0        5.0   1.964   1.962   1.965   1.960   1.9985   2.0005
80           0.0        5.0   9.446   9.218   9.304   9.206   9.2145   9.1905
385          0.0        5.0  31.694  31.126  31.347  31.187  31.6010  31.6000
74          10.0        5.0   9.012   9.004   9.066   8.946   8.6935   8.6410
901         10.0        5.0   9.992   9.992  10.001   9.998   9.9925   9.9715
1274        10.0        5.0   6.906   6.888   6.896   6.883   6.8225   6.8110
2380        10.0        5.0   3.292   3.286   3.296   3.296   3.2800   3.2790
343         10.0        5.0  11.026  10.944  10.878  10.798  10.7745  10.7495
408         10.0        5.0  13.298  13.256  13.343  13.278  13.0715  13.0425
1439        10.0        5.0   3.048   3.046   3.047   3.038   2.9790   2.9700
1554        10.0        5.0   6.744   6.726   6.672   6.638   6.5765   6.5645
1708        10.0        5.0   8.006   8.000   7.952   7.931   7.8880   7.8785
1818        10.0        5.0   3.000   2.998   3.005   2.998   2.9725   2.9710
2463         0.0        5.0   3.954   3.948   3.971   3.969   3.9360   3.9325
818          0.0        0.0   5.544   5.472   5.461   5.427   5.4135   5.3990
33          10.0        5.0   6.416   6.282   6.450   6.406   6.4540   6.4350
67          10.0        5.0   3.124   3.072   3.118   3.108   3.1270   3.1230
76          10.0        5.0  12.598  12.340  12.715  12.631  12.5165  12.4665
141         10.0        5.0  48.878  48.818  50.317  50.297  49.9735  49.9335
145         10.0        5.0  36.942  36.434  36.506  36.373  36.9705  36.7390
173         10.0        5.0   3.112   3.080   3.180   3.178   3.2655   3.2610
267         10.0        5.0   3.094   3.060   3.111   3.107   3.1405   3.1315
268         10.0        5.0   3.380   3.340   3.370   3.349   3.3295   3.3255
306         10.0        5.0   8.308   8.214   8.314   8.309   8.2365   8.2335
361         10.0        5.0  16.910  16.884  16.801  16.712  16.5465  16.4755
389         10.0        5.0  13.372  13.310  13.567  13.544  13.8375  13.8300
432         10.0        5.0   4.170   4.144   4.216   4.218   4.2070   4.2020
575         10.0        5.0   6.340   6.298   6.404   6.405   6.4630   6.4635
632         10.0        5.0   7.200   7.178   7.239   7.243   7.2235   7.2135
745         10.0        5.0   4.054   3.988   4.087   4.090   4.1595   4.1535
899         10.0        5.0  14.344  14.324  14.479  14.447  14.3470  14.2930
956         10.0        5.0   9.276   9.246   9.310   9.289   9.4460   9.4345
1168        10.0        5.0   9.760   9.620   9.628   9.608   9.6710   9.6745
1432        10.0        5.0  59.690  58.946  59.288  59.250  59.5670  59.4970
1524        10.0        5.0  14.116  14.028  14.173  14.129  14.2375  14.1925
1857        10.0        5.0   6.250   6.230   6.282   6.272   6.2475   6.2530
1866        10.0        5.0  12.714  12.706  12.654  12.607  12.3710  12.3315
1924        10.0        5.0  10.144  10.104  10.143  10.120  10.2075  10.2110
1985        10.0        5.0   9.188   9.140   9.228   9.231   9.2445   9.2440
924         10.0        0.0   3.356   3.326   3.388   3.393   3.4465   3.4440
1331        10.0        0.0   3.622   3.620   3.667   3.672   3.6695   3.6660
110          0.0        5.0  29.714  29.096  29.558  29.431  29.8480  29.7620
114          0.0        5.0  20.438  20.144  20.057  19.845  20.1725  20.1405
274          0.0        5.0  54.586  53.340  53.923  53.696  55.2695  55.1925
335          0.0        5.0  92.250  91.304  91.259  91.056  94.1805  94.0925
505          0.0        5.0  17.482  17.184  17.299  17.293  17.4620  17.4610
1429         0.0        5.0   3.992   3.950   3.934   3.924   3.9995   3.9965
1870         0.0        5.0   1.590   1.588   1.634   1.629   1.5925   1.5910
72           0.0        0.0  22.264  21.682  21.841  21.692  22.5480  22.5390
1796         0.0        0.0  11.584  11.526  11.591  11.581  11.6625  11.6615
78          10.0        5.0  13.490  13.232  13.358  13.237  13.3260  13.3120
272         10.0        5.0  88.244  86.924  86.799  86.023  84.7790  84.3205
1874        10.0        5.0   9.596   9.528   9.622   9.615   9.8810   9.8645
319          0.0        5.0  14.090  14.004  13.897  13.794  13.7875  13.7755
477          0.0        5.0  16.700  16.390  16.181  16.071  16.1320  16.0975
2321         0.0        5.0  29.494  29.492  30.118  30.101  28.7400  28.6375
101          0.0        0.0   9.744   9.496   9.739   9.528   9.4980   9.4815
415          0.0        0.0  17.816  17.438  17.689  17.568  17.6650  17.6515
653          0.0        0.0  28.418  27.990  28.323  28.199  28.4395  28.4300
772          0.0        0.0  23.840  23.168  23.266  23.124  23.8140  23.7980
2289         0.0        0.0   8.338   8.288   8.351   8.348   8.3810   8.3825
11          10.0        5.0   5.012   4.964   5.072   5.004   4.8425   4.8015
13          10.0        5.0  56.548  55.112  56.123  55.467  55.9410  55.3850
63          10.0        5.0   7.426   7.270   7.452   7.396   7.4055   7.3460
65          10.0        5.0   2.470   2.420   2.489   2.471   2.4610   2.4475
112         10.0        5.0   5.564   5.480   5.541   5.503   5.5995   5.5720
287         10.0        5.0  22.440  22.352  22.340  22.253  22.1105  22.0955
339         10.0        5.0  16.502  16.446  16.605  16.601  16.5925  16.5340
398         10.0        5.0   9.742   9.614   9.819   9.779   9.5875   9.5070
485         10.0        5.0   7.656   7.596   7.825   7.798   7.6070   7.5790
508         10.0        5.0   3.082   3.058   3.100   3.094   3.0565   3.0480
543         10.0        5.0  12.864  12.738  12.974  12.955  13.0715  13.0480
589         10.0        5.0   3.414   3.390   3.395   3.384   3.3910   3.3805
728         10.0        5.0  11.872  11.810  11.972  11.955  11.9200  11.9175
923         10.0        5.0  13.096  13.056  13.008  12.940  12.8070  12.7670
973         10.0        5.0  16.828  16.642  16.586  16.525  16.6180  16.5620
1104        10.0        5.0   4.210   4.204   4.243   4.237   4.1850   4.1755
1196        10.0        5.0   7.082   6.998   7.155   7.149   7.0410   7.0380
1531        10.0        5.0   6.566   6.564   6.614   6.605   6.5645   6.5440
2276        10.0        5.0   2.756   2.750   2.777   2.779   2.7575   2.7560
2315        10.0        5.0   2.916   2.916   2.920   2.918   2.9005   2.8990
2809        10.0        5.0  29.576  29.436  29.465  29.441  29.7425  29.6955
298         10.0        0.0   3.948   3.904   3.982   3.978   3.9885   3.9680
1334        10.0        0.0   9.988   9.928  10.011   9.998  10.0060  10.0090
1457         0.0        5.0  25.594  25.052  24.775  24.565  25.0245  25.0095
12           0.0        0.0  59.326  58.090  59.069  58.540  59.7045  59.2770
16          10.0        5.0  32.418  31.856  32.569  32.215  30.7375  30.3545
48          10.0        5.0  73.520  72.682  73.014  71.629  67.2050  66.2080
52          10.0        5.0  11.722  11.526  11.544  11.348  11.1650  11.0625
62          10.0        5.0   3.168   3.088   3.074   3.006   2.8745   2.8355
68          10.0        5.0   8.982   8.758   8.879   8.751   8.6720   8.5905
98          10.0        5.0  72.846  72.148  71.429  70.811  71.1560  70.6460
100         10.0        5.0   2.818   2.758   2.820   2.792   2.7485   2.7305
113         10.0        5.0  16.660  16.408  16.283  16.009  15.2365  15.0765
122         10.0        5.0  46.506  45.902  45.390  44.913  45.1450  44.7155
133         10.0        5.0   4.710   4.688   4.755   4.659   4.3720   4.3060

           MA30     MA30_1       MA60     MA60_1
438   17.643333  17.621333  17.957333  17.951833
610    2.744333   2.743333   2.806500   2.809000
108   19.618667  19.622333  19.547500  19.543833
89    20.018333  20.024000  19.969167  19.968167
1415   1.983333   1.982333   1.951333   1.950167
80     9.452333   9.431667   9.513167   9.487167
385   32.436000  32.437000  31.834333  31.799167
74     8.652000   8.625000   8.764167   8.751000
901    9.880667   9.873333   9.935333   9.941333
1274   6.789000   6.784000   6.867667   6.871333
2380   3.262667   3.260333   3.281167   3.283833
343   10.819000  10.815000  10.954333  10.953167
408   13.093333  13.050000  13.655833  13.658667
1439   2.943333   2.938000   3.035833   3.042833
1554   6.549667   6.546000   6.703500   6.704333
1708   7.877667   7.876000   7.985167   7.986833
1818   2.966667   2.965667   2.998833   3.002667
2463   3.919000   3.918333   3.957500   3.962833
818    5.424000   5.418667   5.605000   5.603500
33     6.545667   6.510667   6.203667   6.191667
67     3.266667   3.275000   3.025333   3.013167
76    12.565000  12.537667  11.775500  11.736667
141   49.812667  49.617333  45.049167  44.695500
145   36.115667  35.993667  34.793000  34.663500
173    3.119000   3.090333   2.607500   2.589500
267    3.109333   3.102667   2.957667   2.953667
268    3.278667   3.268333   3.116167   3.110500
306    8.241667   8.222667   7.880000   7.884000
361   16.562667  16.564333  15.512333  15.458333
389   13.675333  13.663000  13.069000  13.046167
432    4.152333   4.139667   4.028667   4.023667
575    6.284667   6.255667   5.681667   5.664000
632    7.175333   7.168000   7.102000   7.101167
745    4.145667   4.142333   3.925167   3.916833
899   14.140333  14.138667  14.059000  14.014000
956    9.321333   9.295667   8.981833   8.977833
1168   9.658667   9.644333   9.150667   9.136500
1432  59.599333  59.526333  54.599000  54.301333
1524  13.845333  13.794333  12.590167  12.537500
1857   6.274667   6.268333   6.136667   6.136167
1866  12.167667  12.126333  11.808500  11.788833
1924  10.166667  10.164667   9.975000   9.979333
1985   9.239000   9.229333   9.081167   9.084333
924    3.393333   3.388333   3.264167   3.259000
1331   3.633333   3.630667   3.600167   3.604167
110   29.939333  29.833333  28.842833  28.759000
114   20.363000  20.338000  19.948333  19.904333
274   55.954000  55.901333  53.489333  53.478333
335   94.078000  93.676667  87.238500  86.999833
505   17.528333  17.516667  17.003667  16.976500
1429   3.999667   3.993000   3.713500   3.704000
1870   1.581000   1.578333   1.548000   1.548000
72    22.659333  22.582333  21.991833  21.955000
1796  11.728667  11.727000  11.566500  11.566500
78    13.356000  13.318667  12.305833  12.254833
272   86.625000  86.493333  79.591000  79.440000
1874   9.736667   9.730000   9.365833   9.358167
319   14.033000  14.018000  13.787333  13.771333
477   16.375667  16.371667  16.136667  16.088667
2321  28.773333  28.734000  28.673500  28.655833
101    9.939000   9.900333   8.537833   8.467000
415   18.114333  18.008667  17.131000  17.133167
653   28.936333  28.929667  27.271833  27.176000
772   24.184667  24.083333  21.711167  21.578667
2289   8.406000   8.404667   8.308333   8.309500
11     4.764000   4.728667   4.538167   4.525667
13    54.984333  54.695333  51.240333  50.884167
63     7.035000   6.941000   5.995500   5.945000
65     2.445667   2.435000   2.385333   2.384333
112    5.350333   5.286333   4.681833   4.653333
287   21.461333  21.342667  21.062667  21.037667
339   15.798333  15.700000  14.935833  14.911500
398    9.283000   9.238333   9.064500   9.038000
485    7.483000   7.459333   7.261667   7.253167
508    3.011000   3.000000   2.944333   2.941833
543   12.675000  12.626667  12.286500  12.280667
589    3.330667   3.319000   3.176000   3.171833
728   11.781333  11.759333  11.427333  11.420833
923   12.476000  12.420000  11.769500  11.765167
973   16.366667  16.324333  15.850333  15.825667
1104   4.132333   4.125333   4.094833   4.094333
1196   6.912000   6.870667   6.249167   6.220167
1531   6.413000   6.397000   6.133833   6.124167
2276   2.722333   2.718000   2.707167   2.711500
2315   2.870667   2.867000   2.877000   2.881833
2809  29.063000  29.013000  27.847000  27.797167
import akshare as ak
import pandas as pd
stock_zh_a_spot_df = ak.stock_zh_a_spot_em()
#print(stock_zh_a_spot_df.head())
stock_individual_fund_flow_rank_df = ak.stock_individual_fund_flow_rank(indicator="今日")
df_result = pd.merge(stock_zh_a_spot_df,stock_individual_fund_flow_rank_df,how='left',left_on='代码',right_on='代码',suffixes=('', '_y'))
print(df_result.head(3).T)
df_result.to_csv('./data/stock_list.csv')
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
"get_stock_list.py" [noeol] 8L, 422C                                  1,1           All
298    3.870667   3.856333   3.756000   3.748667
    df_target.iloc[index, MA5_score_index] = 5 if MA5[-1] >= LOW[-1] and MA5[
        -1] <= HIGH[-1] else 0
    df_target.iloc[index, MA10_score_index] = 10 if MA10[-1] >= LOW[
        -1] and MA10[-1] <= HIGH[-1] else 0
    df_target.iloc[index, MA20_score_index] = 20 if MA20[-1] >= LOW[
        -1] and MA20[-1] <= HIGH[-1] else 0
    df_target.iloc[index, MA30_score_index] = 30 if MA30[-1] >= LOW[
        -1] and MA30[-1] <= HIGH[-1] else 0
    df_target.iloc[index, MA60_score_index] = 60 if MA60[-1] >= LOW[
        -1] and MA60[-1] <= HIGH[-1] else 0
    df_target.iloc[index, T_MA5_score_index] = 5 if MA5[-1] >= CLOSE[
        -1] and MA5[-1] <= CLOSE[-1] * 1.1 else 0
    df_target.iloc[index, T_MA10_score_index] = 10 if MA10[-1] >= CLOSE[
        -1] and MA10[-1] <= CLOSE[-1] * 1.1 else 0
    df_target.iloc[index, T_MA20_score_index] = 20 if MA20[-1] >= CLOSE[
        -1] and MA20[-1] <= CLOSE[-1] * 1.1 else 0
    df_target.iloc[index, T_MA30_score_index] = 30 if MA30[-1] >= CLOSE[
        -1] and MA30[-1] <= CLOSE[-1] * 1.1 else 0
    df_target.iloc[index, T_MA60_score_index] = 60 if MA60[-1] >= CLOSE[
        -1] and MA60[-1] <= CLOSE[-1] * 1.1 else 0
    lk.release()


thread_pool = []
for index, row in list(stock_list_df.iterrows())[:]:
    thread_pool.append(
        MyThreading(func=calculate,
                    arg=(row, index, a1_index, MA5_index, MA10_index,
                         MA20_index, MA30_index, MA60_index, MA5_1_index,
                         MA10_1_index, MA20_1_index, MA30_1_index,
                         MA60_1_index, MA5_score_index, MA10_score_index,
                         MA20_score_index, MA30_score_index, MA60_score_index,
                         T_MA5_score_index, T_MA10_score_index,
                         T_MA20_score_index, T_MA30_score_index,
                         T_MA60_score_index, stock_list_df, lock)))
for _th in thread_pool:
    _th.start()
    sleep(0.04)
for _th in thread_pool:
    _th.join()

stock_list_df.to_csv('./data/stock_result_thread.csv')
print(stock_list_df.head())
"main.py" 185L, 7794C                                                 185,22        Bot
import pandas as pd
import akshare as ak
import matplotlib.dates as mdates
from MyTT import *
import threading
from datetime import datetime
from time import sleep
_today = datetime.now().strftime('%Y-%m-%d')
print(_today)
stock_list_df = pd.read_csv('./data/stock_list.csv', index_col=0,dtype={'代码':str})
#print(stock_list_df.head())
stock_list_df['a1'] = 0.0001
stock_list_df['MA5'] = 0.0001
stock_list_df['MA10'] = 0.0001
stock_list_df['MA20'] = 0.0001
stock_list_df['MA30'] = 0.0001
stock_list_df['MA60'] = 0.0001
stock_list_df['MA5_1'] = 0.0001
stock_list_df['MA10_1'] = 0.0001
stock_list_df['MA20_1'] = 0.0001
stock_list_df['MA30_1'] = 0.0001
stock_list_df['MA60_1'] = 0.0001
stock_list_df['MA5_score'] = 0.0001
stock_list_df['MA10_score'] = 0.0001
stock_list_df['MA20_score'] = 0.0001
stock_list_df['MA30_score'] = 0.0001
stock_list_df['MA60_score'] = 0.0001
stock_list_df['T_MA5_score'] = 0.0001
stock_list_df['T_MA10_score'] = 0.0001
stock_list_df['T_MA20_score'] = 0.0001
stock_list_df['T_MA30_score'] = 0.0001
stock_list_df['T_MA60_score'] = 0.0001
MA10_index = stock_list_df.columns.get_loc('MA10')
MA20_index = stock_list_df.columns.get_loc('MA20')
MA30_index = stock_list_df.columns.get_loc('MA30')
MA10_1_index = stock_list_df.columns.get_loc('MA10_1')
MA20_1_index = stock_list_df.columns.get_loc('MA20_1')
MA30_1_index = stock_list_df.columns.get_loc('MA30_1')
MA60_1_index = stock_list_df.columns.get_loc('MA60_1')
MA5_score_index = stock_list_df.columns.get_loc('MA5_score')
MA10_score_index = stock_list_df.columns.get_loc('MA10_score')
MA20_score_index = stock_list_df.columns.get_loc('MA20_score')
MA30_score_index = stock_list_df.columns.get_loc('MA30_score')
MA60_score_index = stock_list_df.columns.get_loc('MA60_score')
T_MA5_score_index = stock_list_df.columns.get_loc('T_MA5_score')
T_MA10_score_index = stock_list_df.columns.get_loc('T_MA10_score')
T_MA20_score_index = stock_list_df.columns.get_loc('T_MA20_score')
T_MA30_score_index = stock_list_df.columns.get_loc('T_MA30_score')
T_MA60_score_index = stock_list_df.columns.get_loc('T_MA60_score')
#print(stock_list_df.head())

lock = threading.Lock()


class MyThreading(threading.Thread):
    def __init__(self, func, arg):
        super(MyThreading, self).__init__()
        self.func = func
        self.arg = arg

    def run(self):
        self.func(*self.arg)


def calculate(row, index, a1_index, MA5_index, MA10_index, MA20_index,
              MA30_index, MA60_index, MA5_1_index, MA10_1_index, MA20_1_index,
              MA30_1_index, MA60_1_index, MA5_score_index, MA10_score_index,
              MA20_score_index, MA30_score_index, MA60_score_index,
              T_MA5_score_index, T_MA10_score_index, T_MA20_score_index,
              T_MA30_score_index, T_MA60_score_index, df_target, lk):
    print(row['名称'])
    df.columns = [
        'date', 'open', 'close', 'high', 'low', 'volume', 'gmv', 'amplitude',
        'up_down', 'rise_fall', 'turnover'
    ]
    df.date = pd.to_datetime(df.date)
    df.set_index(df.date, inplace=True)
    df.drop(labels='date', inplace=True, axis=1)
    #print(df.tail(5))
    CLOSE = df.close.values
    OPEN = df.open.values  #基础数据定义，只要传入的是序列都可以
    HIGH = df.high.values
    LOW = df.low.values

    #print( df.index[-1]==datetime.strptime('2021-12-24','%Y-%m-%d'))
    if df.index[-1].day!=datetime.today().day:
        print('not open day')
        CLOSE= np.append(CLOSE,row['最新价'])
        OPEN =  np.append(OPEN,row['今开'])
        HIGH =  np.append(HIGH,row['最高'])
        LOW = np.append(LOW,row['最低'])


    Var1 = EMA(HHV(HIGH, 500), 21)
    Var2 = EMA(HHV(HIGH, 250), 21)
    Var3 = EMA(HHV(HIGH, 90), 21)
    Var4 = EMA(LLV(LOW, 500), 21)
    Var5 = EMA(LLV(LOW, 250), 21)
    Var6 = EMA(LLV(LOW, 90), 21)
    Var7 = EMA((Var4 * 0.96 + Var5 * 0.96 + Var6 * 0.96 + Var1 * 0.558 +
                Var2 * 0.558 + Var3 * 0.558) / 6, 21)
    Var8 = EMA((Var4 * 1.25 + Var5 * 1.23 + Var6 * 1.2 + Var1 * 0.55 +
                Var2 * 0.55 + Var3 * 0.65) / 6, 21)
    Var9 = EMA((Var4 * 1.3 + Var5 * 1.3 + Var6 * 1.3 + Var1 * 0.68 +
                Var2 * 0.68 + Var3 * 0.68) / 6, 21)
    VarA = EMA((Var7 * 3 + Var8 * 2 + Var9) / 6 * 1.738, 21)
    VarB = REF(LOW, 1)
    VarC = SMA(ABS(LOW - VarB), 3, 1) / SMA(MAX(LOW - VarB, 0), 3, 1) * 100
    VarD = EMA(IF(CLOSE * 1.35 <= VarA, VarC * 10, VarC / 10), 3)
    VarE = LLV(LOW, 30)
    VarF = HHV(VarD, 30)
    Var10 = IF(MA(CLOSE, 58), 1, 0)
    zijin = MA(IF(LOW <= VarE, (VarD + VarF * 2) / 2, 0), 3) / 618 * Var10
    tmp = IF(zijin > 0, zijin * 1.2, 0)

    MA5 = MA(CLOSE, 5)
    MA10 = MA(CLOSE, 10)
    MA20 = MA(CLOSE, 20)
    MA30 = MA(CLOSE, 30)
    MA60 = MA(CLOSE, 60)
    MA5_1 = REF(MA5, 1)
    MA10_1 = REF(MA10, 1)
    MA20_1 = REF(MA20, 1)
    MA30_1 = REF(MA30, 1)
    MA60_1 = REF(MA60, 1)
    lk.acquire()
    df_target.iloc[index, a1_index] = tmp[-1]
    df_target.iloc[index, MA5_index] = MA5[-1]
    df_target.iloc[index, MA10_index] = MA10[-1]
    df_target.iloc[index, MA20_index] = MA20[-1]
    df_target.iloc[index, MA30_index] = MA30[-1]
    df_target.iloc[index, MA60_index] = MA60[-1]
    df_target.iloc[index, MA5_1_index] = MA5_1[-1]
    df_target.iloc[index, MA10_1_index] = MA10_1[-1]
    df_target.iloc[index, MA20_1_index] = MA20_1[-1]
    df_target.iloc[index, MA30_1_index] = MA30_1[-1]
    df_target.iloc[index, MA60_1_index] = MA60_1[-1]
1334   9.972000   9.952000   9.622500   9.607833
import pandas as pd
from pprint import pprint
pd.options.display.max_rows = None
pd.options.display.max_columns = None
pd.set_option('display.unicode.ambiguous_as_wide', True)
pd.set_option('display.unicode.east_asian_width', True)

df_result = pd.read_csv('./data/stock_result_thread.csv', index_col=0,dtype={'代码':str})
df_result['今日主力净流入-净占比'].fillna(-1,inplace=True)
df_result['今日主力净流入-净占比'] = df_result['今日主力净流入-净占比'].replace('-',-1)
df_result['今日主力净流入-净占比'] = df_result['今日主力净流入-净占比'].astype('float64')
#print(df_result[df_result.名称=='新时达'].T)
df_result2 = df_result[(df_result.MA5.round(2) >= df_result.MA5_1.round(2))
                       & (df_result.MA10.round(2) >= df_result.MA10_1.round(2)) &
                       (df_result.MA20.round(2) >= df_result.MA20_1.round(2)) &
                       (df_result.MA30.round(2) >= df_result.MA30_1.round(2)) &
                       (df_result.MA60.round(2) >= df_result.MA60_1.round(2)) & (df_result.涨跌幅>0.0)&(df_result['今日主力净流入-净占比']>0.0)].sort_values(
                           [
                               'MA60_score',
                               'MA30_score',
                               'MA20_score',
                               'MA10_score',
                               'MA5_score',
                           ],
                           ascending=False).head(100)
print('today:')
df_result2.rename(columns={'今日主力净流入-净占比':'主力'},inplace=True)
pprint(df_result2[[
    '名称','涨跌幅','最新价','主力', 'MA60_score', 'MA30_score', 'MA20_score', 'MA10_score', 'MA5_score',
    'MA5', 'MA5_1', 'MA10', 'MA10_1', 'MA20', 'MA20_1', 'MA30', 'MA30_1',
    'MA60', 'MA60_1'
]])



df_result3 = df_result[(df_result.MA5 >= df_result.MA5_1)
                       & (df_result.MA10 >= df_result.MA10_1) &
                       (df_result.MA20 >= df_result.MA20_1) &
                       (df_result.MA30 >= df_result.MA30_1) &
"findstock.py" 50L, 2618C                                             27,57-48      Top
pd.options.display.max_rows = None
pd.options.display.max_columns = None
pd.set_option('display.unicode.ambiguous_as_wide', True)
df_result['今日主力净流入-净占比'].fillna(-1,inplace=True)
df_result['今日主力净流入-净占比'] = df_result['今日主力净流入-净占比'].replace('-',-1)
import pandas as pd
from pprint import pprint
pd.options.display.max_rows = None
pd.options.display.max_columns = None
pd.set_option('display.unicode.ambiguous_as_wide', True)
pd.set_option('display.unicode.east_asian_width', True)

df_result = pd.read_csv('./data/stock_result_thread.csv', index_col=0,dtype={'代码':str})
df_result['今日主力净流入-净占比'].fillna(-1,inplace=True)
df_result['今日主力净流入-净占比'] = df_result['今日主力净流入-净占比'].replace('-',-1)
df_result['今日主力净流入-净占比'] = df_result['今日主力净流入-净占比'].astype('float64')
#print(df_result[df_result.名称=='新时达'].T)
df_result2 = df_result[(df_result.MA5.round(2) >= df_result.MA5_1.round(2))
                       & (df_result.MA10.round(2) >= df_result.MA10_1.round(2)) &
                       (df_result.MA20.round(2) >= df_result.MA20_1.round(2)) &
                       (df_result.MA30.round(2) >= df_result.MA30_1.round(2)) &
                       (df_result.MA60.round(2) >= df_result.MA60_1.round(2)) & (df_result.涨跌幅>0.0)&(df_result['今日主力净流入-净占比']>0.0)].sort_values(
                           [
                               'MA60_score',
                               'MA30_score',
                               'MA20_score',
                               'MA10_score',
                               'MA5_score',
                           ],
                           ascending=False).head(100)
print('today:')
df_result2.rename(columns={'今日主力净流入-净占比':'主力'},inplace=True)
pprint(df_result2[[
    '名称','涨跌幅','最新价','主力', 'MA60_score', 'MA30_score', 'MA20_score', 'MA10_score', 'MA5_score',
    'MA5', 'MA5_1', 'MA10', 'MA10_1', 'MA20', 'MA20_1', 'MA30', 'MA30_1',
    'MA60', 'MA60_1'
]])



df_result3 = df_result[(df_result.MA5 >= df_result.MA5_1)
                       & (df_result.MA10 >= df_result.MA10_1) &
                       (df_result.MA20 >= df_result.MA20_1) &
                       (df_result.MA30 >= df_result.MA30_1) &
                       (df_result.MA60 >= df_result.MA60_1) & (df_result.涨跌幅>0.0) &(df_result['今日主力净流入-净占比']>0.0)].sort_values(
                           [
                               'T_MA60_score',
                               'T_MA30_score',
                               'T_MA20_score',
                               'T_MA10_score',
                               'T_MA5_score',
                               '涨跌幅'
                           ],
                           ascending=False).head(20)

                                                                      1,19          Top
